# ex01

打开淘宝和京东主页，分别在搜索关键字输入 耳机，点击搜索按钮，分析浏览器发送给服务器的请求内容和响应结果，完成下面的报告。

1. 分析搜索逻辑是由哪个服务链接或者页面完成，如果有多个请分别列出，并且将发送到服务器的数据以列表方式进行说明；
    * 淘宝的请求：
        1. 完成搜索逻辑的链接 https://s.taobao.com/search
        2. 发送到服务器的数据
            * q: 耳机 查询关键字
            * imgfile: 可能是查询用的图片文件
            * commend: all 不清楚
            * ssid: s5-e 不清楚
            * search_type: item 搜索对象类型
            * sourceId: tb.index 资源id
            * spm: a21bo.2017.201856-taobao-item.1 导购效果跟踪，参考
                > <https://open.taobao.com/doc.htm?docId=959&docType=1>
            * ie: utf8 不清楚，猜测可能是浏览器的字符类型？
            * initiative_id: tbindexz_20170306 不清楚
    * 京东的请求：
        1. 完成搜索逻辑的链接 https://search.jd.com/Search
        2. 发送到服务器的数据
            * keyword: 耳机 搜索关键词
            * enc: utf-8 编码格式
            * pvid: c52b71e87bd947cca6678f591f81d2a0 不清楚

2. 分析服务器的响应结果，数据的格式、数据的类型以及呈现方式；
    * 淘宝的响应结果
        1. JavaScript脚本: js格式
        2. 层叠样式表: css格式
        3. 字体: woff格式
        4. 图片:
            * Webp：搜索到的商品的展示图
            * Png：网页图标素材
            * Jpeg：侧边栏广告商品的展示图
            * Gif：除了一个加载图和一个网警图标，其它多为从mmstat.com请求到的空图片，查询后认为可能是淘宝为了记录用户行为而在用户触发对应操作时请求一张空图片来让后端打印相应日志
        5. 文档：html格式，共有3个，一个为页面主体，一个用于加载搜索历史，剩下一个blk.html不清楚用途
    * 京东的响应结果
        1. JavaScript脚本: js格式
        2. 层叠样式表: css格式
        3. 字体：
            * Ttf：用于footer部分
            * Woff：用于ui部分
        4. 图片：
            * Png：网页图标素材，部分搜索选项里的品牌图标
            * Jpg：搜索到的商品的展示图与缩略图，部分搜索选项里的品牌图标，广告图标
            * Gif：加载时的动图，也有从mercury.jd.com请求到的空图片，可能与淘宝一样是为了跟踪用户操作而产生的请求的响应
        5. 文档：html格式，共1个，为页面主体

3. 对比淘宝和京东搜索功能的数据结构，请说明它们的区别和特点；
    * 淘宝的请求参数数量明显多于京东，其中很明显能看到淘宝独有的技术(如spm，顺带一提淘宝的响应头中的eagleeye-traceid参数也是淘宝独有的技术，用于前后端链路追踪)。两边返回的数据的格式和结构都差不多，不过淘宝在图片部分多用了webp格式来显示商品图片，并且没有出现京东品牌图标既有jpg也有png这种情况。淘宝返回的html有三个且各自用于不同功能，京东只有一个。不过京东在footer和ui部分使用了两个格式不同的字体文件。
